# OPS Framework - Hardcoded Data Violations

**Audit Date:** 2026-01-31
**Auditor:** OPS Development Agent
**Scope:** All ops_matrix_* modules
**Status:** COMPLETE - All critical violations fixed

---

## VIOLATION PRINCIPLE

The OPS Framework is a PRODUCT sold to multiple customers.
NO customer-specific data should exist in the codebase.

---

## FINDINGS & RESOLUTIONS

### Category 1: Hardcoded Location Names - CRITICAL (In Production Data Files)

| File | Line | Value | Action | Status |
|------|------|-------|--------|--------|
| ops_matrix_accounting/data/report_templates_extra.xml | 13, 35-40, 48 | "Dubai HQ", "Dubai" | REMOVED filter entirely | FIXED |
| ops_matrix_core/views/ops_persona_views.xml | 84 | "e.g., 'Doha Branch Manager'" | Changed to "Regional Sales Manager" | FIXED |
| ops_matrix_core/views/res_company_views.xml | 95 | "e.g., Doha Office" | Changed to "Main Office" | FIXED |
| ops_matrix_core/views/ops_branch_views.xml | 125 | "e.g., Doha Office" | Changed to "Main Office" | FIXED |

### Category 2: Hardcoded Business Unit Names - CRITICAL

| File | Line | Value | Action | Status |
|------|------|-------|--------|--------|
| ops_matrix_accounting/data/report_templates_extra.xml | 196, 209 | "Electronics BU", "Electronics" | REMOVED filter entirely | FIXED |

### Category 3: Test Data Files (NOT loaded automatically - Low Priority)

These files are standalone Python scripts for manual test data seeding, NOT loaded via manifest:

| File | Values Found | Risk Level |
|------|--------------|------------|
| ops_matrix_core/data/ops_seed_test_data.py | Dubai, Abu Dhabi, +971, .ae emails, AED currency | LOW - Script only |
| ops_matrix_core/data/test_seed.py | Dubai Marina Branch, Abu Dhabi Central, Acme Corporation | LOW - Script only |
| ops_matrix_core/data/test_data_seed.py | Dubai Marina Branch, Abu Dhabi Central, Acme Corporation | LOW - Script only |

**Note:** These files are intentionally left as-is. They are standalone test scripts NOT loaded automatically.
They can be cleaned in a future iteration if desired.

### Category 4: Disabled/Commented Files (No Action Needed)

| File | Status | Notes |
|------|--------|-------|
| ops_matrix_core/data/ops_governance_templates_extended.xml | COMMENTED OUT in manifest | Contains persona_doha_manager etc but not loaded |

### Category 5: Test Files (Acceptable)

| File | Notes |
|------|-------|
| ops_matrix_core/tests/*.py | Test files can contain test-specific data |
| ops_matrix_accounting/tests/*.py | Test files can contain test-specific data |

---

## CHANGES MADE

### Fix 1: report_templates_extra.xml - Dubai Template
**File:** `ops_matrix_accounting/data/report_templates_extra.xml`
**Change:**
- Renamed "Stock Valuation - Dubai HQ" to "Stock Valuation by Branch"
- Removed `branch_filter_name: "Dubai"` from config_data
- Updated description to be generic

### Fix 2: report_templates_extra.xml - Electronics Template
**File:** `ops_matrix_accounting/data/report_templates_extra.xml`
**Change:**
- Renamed "Segment P&L (Electronics BU)" to "Segment P&L by Business Unit"
- Removed `business_unit_filter_name: "Electronics"` from config_data
- Updated description to be generic

### Fix 3: View Placeholders
**Files:** ops_persona_views.xml, res_company_views.xml, ops_branch_views.xml
**Change:**
- "Doha Branch Manager" -> "Regional Sales Manager"
- "Doha Office" -> "Main Office"

---

## VERIFICATION

Module update completed successfully with no errors:
```
2026-01-31 00:15:04,371 INFO mz-db odoo.modules.loading: 77 modules loaded in 11.15s
```

---

## SUMMARY

**Total Critical Violations Found:** 4 files
**Violations Fixed:** 4 files
**Low Priority (Deferred):** 3 test scripts
**Cleanup Status:** COMPLETE

---

## OPS FRAMEWORK STATUS

The OPS Framework is now:
- Generic - No customer-specific location names
- Customer-agnostic - No hardcoded business data
- Ready out of the box - Users configure their own branches/BUs

**Report Generated By:** OPS Development Agent
**Completed:** 2026-01-31
