<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="res_config_settings_view_form_ops_theme" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.ops.theme</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="priority">50</field>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="OPS Theme" string="OPS Theme" name="ops_theme" groups="base.group_system">

                    <!-- ============================================================ -->
                    <!-- SECTION 1: BRAND IDENTITY                                    -->
                    <!-- ============================================================ -->
                    <block title="Brand Identity" name="ops_brand_identity_settings">
                        <div class="text-muted mb-4 ms-1">
                            Theme preset, favicon, and brand colors for your company's visual identity.
                        </div>

                        <!-- Preset Selector — Full Width -->
                        <div class="row mt-2 o_settings_container">
                            <div class="col-12">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <div class="d-flex align-items-center gap-3 mb-2">
                                            <span class="o_form_label fw-bold">Theme Preset</span>
                                            <button name="action_reset_theme_defaults" type="object"
                                                    string="Reset to Defaults"
                                                    class="btn btn-outline-secondary btn-sm"
                                                    icon="fa-refresh"
                                                    confirm="This will reset all theme colors to Corporate Blue defaults. Continue?"/>
                                        </div>
                                        <div class="text-muted small mb-3">Select a palette. Choose Custom for full manual control.</div>
                                        <field name="ops_theme_preset" widget="ops_theme_selector"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Row: Favicon -->
                        <div class="row mt-3 o_settings_container">
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Browser Favicon</span>
                                        <div class="text-muted small mb-2">64x64px square image.</div>
                                        <field name="ops_favicon" widget="image" options="{'size': [80, 80]}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Custom Color Fields — only visible when Custom preset selected -->
                        <div class="row mt-3 o_settings_container" invisible="ops_theme_preset != 'custom'">
                            <div class="col-12">
                                <h4 class="ops-settings-sub-header">Custom Palette Colors</h4>
                            </div>

                            <!-- Row: Base Colors -->
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Background</span>
                                        <field name="ops_bg_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Surface</span>
                                        <field name="ops_surface_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Text</span>
                                        <field name="ops_text_color" widget="color"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Row: Border + Accents -->
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Border</span>
                                        <field name="ops_border_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Primary Color</span>
                                        <field name="ops_primary_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Secondary / Accent</span>
                                        <field name="ops_secondary_color" widget="color"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Row: Accent2 + Button + Success -->
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Accent 2</span>
                                        <field name="ops_accent2_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Button</span>
                                        <field name="ops_btn_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Success</span>
                                        <field name="ops_success_color" widget="color"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Row: Warning + Danger -->
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Warning</span>
                                        <field name="ops_warning_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold">Danger</span>
                                        <field name="ops_danger_color" widget="color"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </block>

                    <!-- ============================================================ -->
                    <!-- SECTION 2: LOGIN PAGE                                        -->
                    <!-- ============================================================ -->
                    <block title="Login Page" name="ops_login_settings">
                        <div class="text-muted mb-4 ms-1">
                            Customize the split-screen login experience your users see when they sign in.
                        </div>

                        <!-- Show Logo + Background side by side -->
                        <div class="row g-0">
                            <div class="col-lg-6">
                                <setting string="Show Company Logo" help="Display your company logo on the login page branding panel.">
                                    <field name="ops_login_show_logo"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Background Image" help="Branding panel background. Recommended: 1920x1080px.">
                                    <field name="ops_login_background" widget="image"
                                           options="{'size': [240, 135]}" class="ops-login-preview"/>
                                </setting>
                            </div>
                        </div>

                        <!-- Tagline — full width -->
                        <setting string="Tagline" help="Short text displayed below your company name on the login page.">
                            <field name="ops_login_tagline" placeholder="e.g. Enterprise Governance Platform"
                                   class="o_setting_field_input"/>
                        </setting>
                    </block>

                    <!-- ============================================================ -->
                    <!-- SECTION 3: LAYOUT & USER EXPERIENCE                          -->
                    <!-- ============================================================ -->
                    <block title="Layout &amp; User Experience" name="ops_layout_settings">
                        <div class="text-muted mb-4 ms-1">
                            Interface styling and default preferences applied to new user accounts.
                        </div>

                        <!-- Navbar — full width, horizontal radio -->
                        <setting string="Navigation Bar Style" help="Visual style of the top navigation bar across the application.">
                            <field name="ops_navbar_style" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                        </setting>

                        <!-- Card Shadow + Border Radius — side by side -->
                        <div class="row g-0">
                            <div class="col-lg-6">
                                <setting string="Card Shadows" help="Shadow intensity on card panels and form containers.">
                                    <field name="ops_card_shadow" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Corner Radius" help="Border roundness on buttons, cards, and inputs.">
                                    <field name="ops_border_radius" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                                </setting>
                            </div>
                        </div>

                        <!-- Sub-divider: New User Defaults -->
                        <h4 class="ops-settings-sub-header">New User Defaults</h4>
                        <div class="text-muted mb-3 ms-1" style="font-size: 0.85em;">
                            Applied when new users are created. Existing users change their own from the user menu.
                        </div>

                        <div class="row g-0">
                            <div class="col-lg-6">
                                <setting string="Default Color Mode" help="Light or dark interface theme for new users.">
                                    <field name="ops_default_color_mode" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Default Chatter Position" help="Discussion panel placement for new users.">
                                    <field name="ops_default_chatter_position" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                                </setting>
                            </div>
                        </div>
                    </block>

                    <!-- ============================================================ -->
                    <!-- SECTION 4: REPORTS & DOCUMENTS                               -->
                    <!-- ============================================================ -->
                    <block title="Reports &amp; Documents" name="ops_report_settings">
                        <div class="text-muted mb-4 ms-1">
                            Control the appearance of printed PDF reports, invoices, and official documents.
                        </div>

                        <!-- Sub-group: Report Appearance -->
                        <h4 class="ops-settings-sub-header">Report Appearance</h4>

                        <!-- Logo Position — horizontal radio -->
                        <setting string="Logo Position" help="Company logo placement in the header of printed PDF reports.">
                            <field name="ops_report_logo_position" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                        </setting>

                        <!-- Badge + Amount Language — side by side -->
                        <div class="row g-0">
                            <div class="col-lg-6">
                                <setting string="OPS Framework Badge" help="Show 'Powered by OPS Framework' in report footer.">
                                    <field name="ops_show_external_badge"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Amount in Words" help="Language for spelling out monetary amounts.">
                                    <field name="ops_amount_words_lang" widget="radio" class="o_light_label" options="{'horizontal': True}"/>
                                </setting>
                            </div>
                        </div>

                        <!-- Sub-group: Document Details -->
                        <h4 class="ops-settings-sub-header mt-4">Document Details</h4>

                        <!-- Bank Details + Amount Words — side by side -->
                        <div class="row g-0">
                            <div class="col-lg-6">
                                <setting string="Bank Details on Invoices" help="Show company bank account on invoices and payment documents.">
                                    <field name="ops_show_bank_details"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Print Amount in Words" help="Print the total spelled out in words on invoices and quotations.">
                                    <field name="ops_show_amount_words"/>
                                </setting>
                            </div>
                        </div>

                        <!-- Signatures — full width with conditional labels -->
                        <setting string="Signature Block" help="Show up to three authorized signatory slots at the bottom of official documents.">
                            <field name="ops_show_signature_block"/>
                            <div invisible="not ops_show_signature_block" class="mt-3 ops-signature-row">
                                <div class="d-flex gap-3 flex-wrap">
                                    <div class="flex-grow-1" style="min-width: 140px; max-width: 220px;">
                                        <label for="ops_signature_label_1" string="Signature 1" class="small fw-semibold"/>
                                        <field name="ops_signature_label_1" placeholder="Prepared By"/>
                                    </div>
                                    <div class="flex-grow-1" style="min-width: 140px; max-width: 220px;">
                                        <label for="ops_signature_label_2" string="Signature 2" class="small fw-semibold"/>
                                        <field name="ops_signature_label_2" placeholder="Approved By"/>
                                    </div>
                                    <div class="flex-grow-1" style="min-width: 140px; max-width: 220px;">
                                        <label for="ops_signature_label_3" string="Signature 3" class="small fw-semibold"/>
                                        <field name="ops_signature_label_3" placeholder="Authorized By"/>
                                    </div>
                                </div>
                            </div>
                        </setting>

                        <!-- Terms & Conditions — full width, tall editor -->
                        <setting string="Default Terms &amp; Conditions" help="Printed at the bottom of invoices and quotations when no document-specific terms exist.">
                            <field name="ops_report_terms" widget="html"
                                   placeholder="Enter your default terms and conditions..."
                                   class="ops-terms-editor"
                                   options="{'collaborative': false, 'resizable': true}"/>
                        </setting>
                    </block>

                </app>
            </xpath>
        </field>
    </record>

</odoo>
