<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_ops_theme" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.ops.theme</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="priority">50</field>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="OPS Theme" string="OPS Theme" name="ops_theme" groups="base.group_system">
                    
                    <!-- ============================================================ -->
                    <!-- SECTION 1: BRAND IDENTITY (High-Visibility Hero)            -->
                    <!-- ============================================================ -->
                    <block title="Brand Identity" name="ops_brand_identity">
                        <div class="text-muted mb-3 ms-1">
                            Core visual configuration. Changes here update the organization's global identity.
                        </div>

                        <!-- THEME SELECTOR - Full Width for better card display -->
                        <div class="row o_settings_container">
                            <div class="col-12">
                                <div class="o_setting_box border-0 shadow-sm p-4 bg-view rounded-3">
                                    <div class="o_setting_right_pane">
                                        <div class="d-flex align-items-center justify-content-between mb-3">
                                            <div>
                                                <span class="o_form_label fw-bold fs-5">Organization Skin</span>
                                                <div class="text-muted small">Select a calibrated palette for the framework.</div>
                                            </div>
                                            <button name="action_reset_theme_defaults" type="object"
                                                    string="Restore Defaults"
                                                    class="btn btn-outline-secondary btn-sm"
                                                    confirm="Reset to Corporate Blue?"/>
                                        </div>
                                        <field name="ops_theme_skin_id" widget="ops_skin_selector" class="w-100"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ASSETS - Side-by-Side -->
                        <div class="row o_settings_container mt-2">
                            <div class="col-lg-6">
                                <setting string="Favicon" help="Browser tab icon (64x64px).">
                                    <field name="ops_favicon" widget="image" options="{'size': [64, 64]}"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Login Branding" help="Login screen background image.">
                                    <field name="ops_login_background" widget="image" options="{'size': [160, 90]}"/>
                                    <div class="mt-2 d-flex flex-column gap-2">
                                        <div>
                                            <field name="ops_login_show_logo" class="me-1"/>
                                            <span class="small text-muted">Show company logo on login</span>
                                        </div>
                                        <field name="ops_login_tagline" placeholder="Enterprise Resource Planning" class="w-100"/>
                                    </div>
                                </setting>
                            </div>
                        </div>
                    </block>

                    <!-- ============================================================ -->
                    <!-- SECTION 2: INTERFACE & UX                                    -->
                    <!-- ============================================================ -->
                    <block title="Navigation &amp; UI" name="ops_ux_settings">
                        <div class="row o_settings_container">
                            <!-- Sidebar -->
                            <div class="col-lg-6">
                                <setting string="Navigation Sidebar" help="Left-hand collapsible app drawer.">
                                    <field name="ops_sidebar_enabled"/>
                                    <div invisible="not ops_sidebar_enabled" class="mt-2">
                                        <label for="ops_sidebar_logo" string="Sidebar Logo" class="small text-muted d-block mb-1"/>
                                        <field name="ops_sidebar_logo" widget="image" options="{'size': [100, 30]}"/>
                                    </div>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Default Chatter Position" help="Where to show the chatter by default.">
                                    <field name="ops_default_chatter_position" widget="radio" options="{'horizontal': true}"/>
                                </setting>
                            </div>
                        </div>

                        <div class="row o_settings_container mt-3">
                            <!-- Visual Physics -->
                            <div class="col-lg-6">
                                <setting string="Surface Elevation" help="Global card shadow intensity.">
                                    <field name="ops_card_shadow" widget="radio" options="{'horizontal': true}"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Element Rounding" help="Corner radius for buttons and inputs.">
                                    <field name="ops_border_radius" widget="radio" options="{'horizontal': true}"/>
                                </setting>
                            </div>
                        </div>

                        <!-- UI Enhancements -->
                        <div class="row o_settings_container mt-3">
                            <div class="col-lg-6">
                                <setting string="Enhanced Home Menu" help="Improved app menu with search and favorites.">
                                    <field name="ops_home_menu_enhanced"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Dialog Enhancements" help="Enhanced modal/dialog behaviors.">
                                    <field name="ops_dialog_enhancements"/>
                                </setting>
                            </div>
                        </div>

                        <div class="row o_settings_container mt-3">
                            <div class="col-lg-6">
                                <setting string="Enhanced Chatter" help="Improved messaging and activity panel.">
                                    <field name="ops_chatter_enhanced"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Group Controls" help="Additional grouping controls in list views.">
                                    <field name="ops_group_controls_enabled"/>
                                </setting>
                            </div>
                        </div>

                        <div class="row o_settings_container mt-3">
                            <div class="col-lg-6">
                                <setting string="Auto Refresh Lists" help="Automatically refresh list views at intervals.">
                                    <field name="ops_auto_refresh_enabled"/>
                                    <div invisible="not ops_auto_refresh_enabled" class="mt-2">
                                        <label for="ops_auto_refresh_interval" string="Refresh Interval" class="small text-muted d-block mb-1"/>
                                        <div class="d-flex align-items-center gap-2">
                                            <field name="ops_auto_refresh_interval" class="w-25"/>
                                            <span class="small text-muted">seconds</span>
                                        </div>
                                    </div>
                                </setting>
                            </div>
                        </div>
                    </block>

                    <!-- ============================================================ -->
                    <!-- SECTION 3: REPORTING & PDF (Concise & Professional)          -->
                    <!-- ============================================================ -->
                    <block title="Reporting &amp; PDF" name="ops_report_settings">
                        
                        <!-- Concise Layout: Colors and Logos in one row -->
                        <div class="row o_settings_container">
                            <div class="col-lg-6">
                                <setting string="Report Colors" help="Color palette for printed documents.">
                                    <div class="d-flex flex-column gap-2">
                                        <div class="d-flex align-items-center gap-3">
                                            <span class="small text-muted" style="width: 120px;">Accent Color</span>
                                            <field name="ops_report_primary_color" widget="color"/>
                                        </div>
                                        <div class="d-flex align-items-center gap-3">
                                            <span class="small text-muted" style="width: 120px;">Text on Accent</span>
                                            <field name="ops_report_text_on_primary" widget="color"/>
                                        </div>
                                        <div class="d-flex align-items-center gap-3">
                                            <span class="small text-muted" style="width: 120px;">Body Text</span>
                                            <field name="ops_report_body_text_color" widget="color"/>
                                        </div>
                                    </div>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Document Signatures" help="Add up to 3 authorized slots.">
                                    <field name="ops_show_signature_block"/>
                                    <div invisible="not ops_show_signature_block" class="mt-2 d-flex gap-2">
                                        <field name="ops_signature_label_1" placeholder="Prepared" class="w-30"/>
                                        <field name="ops_signature_label_2" placeholder="Approved" class="w-30"/>
                                        <field name="ops_signature_label_3" placeholder="Authorized" class="w-30"/>
                                    </div>
                                </setting>
                            </div>
                        </div>

                        <!-- Report Options -->
                        <div class="row o_settings_container mt-3">
                            <div class="col-lg-6">
                                <setting string="Logo Position" help="Alignment of company logo in headers.">
                                    <field name="ops_report_logo_position" widget="radio" options="{'horizontal': true}"/>
                                </setting>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Logo Size" help="Maximum height of logo in pixels.">
                                    <field name="ops_logo_max_size" class="w-25"/>
                                    <span class="small text-muted ms-2">px</span>
                                </setting>
                            </div>
                        </div>

                        <!-- Document Options -->
                        <div class="row o_settings_container mt-3">
                            <div class="col-lg-6">
                                <div class="o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold mb-2 d-block">Document Options</span>
                                        <div class="d-flex flex-column gap-2">
                                            <div>
                                                <field name="ops_show_external_badge" class="me-2"/>
                                                <span>Show OPS Badge on PDFs</span>
                                            </div>
                                            <div>
                                                <field name="ops_show_bank_details" class="me-2"/>
                                                <span>Show Bank Details</span>
                                            </div>
                                            <div>
                                                <field name="ops_show_product_code" class="me-2"/>
                                                <span>Show Product Internal Reference</span>
                                            </div>
                                            <div>
                                                <field name="ops_show_amount_words" class="me-2"/>
                                                <span>Show Amount in Words</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <setting string="Amount in Words Language" help="Language for amount-to-text conversion.">
                                    <field name="ops_amount_words_lang" widget="radio" options="{'horizontal': true}"/>
                                </setting>
                            </div>
                        </div>

                        <!-- TERMS & CONDITIONS - Hero Row -->
                        <div class="row o_settings_container mt-4">
                            <div class="col-12">
                                <div class="o_setting_box border-top pt-4 mt-2">
                                    <div class="o_setting_right_pane">
                                        <span class="o_form_label fw-bold mb-2 d-block">Default Terms &amp; Conditions</span>
                                        <div class="text-muted small mb-3">Global legal text printed at the footer of invoices and quotes.</div>
                                        <field name="ops_report_terms" widget="html" 
                                               options="{'collaborative': false, 'resizable': true}" 
                                               class="w-100 ops-terms-editor"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </block>

                </app>
            </xpath>
        </field>
    </record>
</odoo>