// =============================================================================
// OPS THEME v2.0 - SAFE ANIMATIONS
// =============================================================================
// SAFE ONLY: Opacity-based animations
// NO transform - transforms can break Odoo's positioning
// =============================================================================

// -----------------------------------------------------------------------------
// SAFE KEYFRAME ANIMATIONS (Opacity only)
// -----------------------------------------------------------------------------

@keyframes ops-fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes ops-fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

// Pulse effect using box-shadow (safe)
@keyframes ops-pulseRing {
    0% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
    }
    70% {
        box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

// Shimmer effect for loading states (safe - uses background-position)
@keyframes ops-shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

// Spinner for loading (this uses transform but is contained in loader element)
@keyframes ops-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

// -----------------------------------------------------------------------------
// UTILITY CLASSES
// -----------------------------------------------------------------------------

.ops-animate-fadeIn {
    animation: ops-fadeIn 0.2s ease;
}

.ops-animate-pulse {
    animation: ops-pulseRing 2s infinite;
}

// Skeleton loading effect
.ops-skeleton {
    background: linear-gradient(90deg,
        var(--ops-bg-hover, #f1f5f9) 25%,
        var(--ops-bg-card, #ffffff) 50%,
        var(--ops-bg-hover, #f1f5f9) 75%
    );
    background-size: 200% 100%;
    animation: ops-shimmer 1.5s infinite;
}

// -----------------------------------------------------------------------------
// APPLY TO ODOO COMPONENTS (Opacity-only animations)
// -----------------------------------------------------------------------------

// Dropdowns - fade in only
.dropdown-menu.show {
    animation: ops-fadeIn 0.15s ease;
}

// Modals - fade in only
.modal.show .modal-content {
    animation: ops-fadeIn 0.2s ease;
}

// Notifications - fade in only
.o_notification {
    animation: ops-fadeIn 0.2s ease;
}

// Kanban cards - fade in only
.o_kanban_record {
    animation: ops-fadeIn 0.2s ease;
}

// Form views - fade in
.o_form_view {
    animation: ops-fadeIn 0.15s ease;
}

// List view - fade in
.o_list_view {
    animation: ops-fadeIn 0.15s ease;
}

// Control panel - fade in
.o_control_panel {
    animation: ops-fadeIn 0.15s ease;
}

// Dialogs - fade in
.o_dialog {
    animation: ops-fadeIn 0.2s ease;
}

// Chatter - fade in
.o_Chatter {
    animation: ops-fadeIn 0.2s ease;
}

// Search panel - fade in
.o_searchview {
    animation: ops-fadeIn 0.1s ease;
}

// Status bar - fade in
.o_statusbar_buttons {
    animation: ops-fadeIn 0.15s ease;
}

// Apps menu
.o_apps_menu_container {
    animation: ops-fadeIn 0.15s ease;
}

// -----------------------------------------------------------------------------
// LOADING SPINNER (Safe - contained element)
// -----------------------------------------------------------------------------

.ops-spinner {
    width: 24px;
    height: 24px;
    border: 3px solid var(--ops-border, #e2e8f0);
    border-top-color: var(--ops-secondary, #3b82f6);
    border-radius: 50%;
    animation: ops-spin 0.8s linear infinite;
}

.ops-spinner-lg {
    width: 40px;
    height: 40px;
    border-width: 4px;
}

.ops-spinner-sm {
    width: 16px;
    height: 16px;
    border-width: 2px;
}

// -----------------------------------------------------------------------------
// REDUCED MOTION SUPPORT
// -----------------------------------------------------------------------------

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
