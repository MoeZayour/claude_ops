// =============================================================================
// OPS THEME v2.0 - SAFE MICRO-INTERACTIONS
// =============================================================================
// SAFE ONLY: Uses background-color, color, box-shadow, border-color, opacity
// NO transform, NO position changes, NO display changes
// =============================================================================

// -----------------------------------------------------------------------------
// BUTTON HOVER STATES
// SAFE: Only colors and shadows
// -----------------------------------------------------------------------------

.btn {
    transition: background-color 0.2s ease,
                color 0.2s ease,
                border-color 0.2s ease,
                box-shadow 0.2s ease;
}

// Primary button glow on hover
.btn-primary:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

// Secondary button hover
.btn-secondary:hover:not(:disabled) {
    background-color: var(--ops-bg-hover, #f8fafc);
}

// Success button glow
.btn-success:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

// Danger button glow
.btn-danger:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}

// Warning button glow
.btn-warning:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
}

// Info button glow
.btn-info:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(6, 182, 212, 0.4);
}

// -----------------------------------------------------------------------------
// ROW HOVER HIGHLIGHT
// SAFE: Background color only
// -----------------------------------------------------------------------------

.o_list_view .o_data_row {
    transition: background-color 0.15s ease;
}

.o_list_view .o_data_row:hover {
    background-color: var(--ops-bg-hover, #f8fafc) !important;
}

.o_list_view .o_data_row.o_row_selected,
.o_list_view .o_data_row.o_data_row_selected {
    background-color: var(--ops-bg-selected, #eff6ff) !important;
}

// List table cells
.o_list_table td {
    transition: background-color 0.15s ease;
}

.o_list_table tr:hover td {
    background-color: var(--ops-bg-hover, #f8fafc);
}

// -----------------------------------------------------------------------------
// KANBAN CARD HOVER
// SAFE: Shadow and border only
// -----------------------------------------------------------------------------

.o_kanban_record {
    transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.o_kanban_record:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    border-color: var(--ops-secondary, #3b82f6);
}

// -----------------------------------------------------------------------------
// LINK HOVER
// SAFE: Color only
// -----------------------------------------------------------------------------

a:not(.btn):not(.dropdown-item):not(.nav-link) {
    transition: color 0.15s ease;
}

a:not(.btn):not(.dropdown-item):not(.nav-link):hover {
    color: var(--ops-secondary-hover, #2563eb);
}

// -----------------------------------------------------------------------------
// FORM INPUT FOCUS
// SAFE: Border and shadow only
// -----------------------------------------------------------------------------

.o_field_widget input,
.o_field_widget textarea,
.o_field_widget select,
.form-control,
.form-select {
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.o_field_widget input:focus,
.o_field_widget textarea:focus,
.o_field_widget select:focus,
.form-control:focus,
.form-select:focus {
    border-color: var(--ops-secondary, #3b82f6) !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15) !important;
    outline: none;
}

// -----------------------------------------------------------------------------
// MENU ITEM HOVER
// SAFE: Colors only
// -----------------------------------------------------------------------------

.o_menu_sections .nav-link {
    transition: color 0.2s ease, background-color 0.2s ease;
}

.o_menu_sections .nav-link:hover {
    color: var(--ops-secondary, #3b82f6);
}

.o_menu_sections .nav-link.active {
    color: var(--ops-secondary, #3b82f6);
}

// -----------------------------------------------------------------------------
// AVATAR HOVER
// SAFE: Opacity only
// -----------------------------------------------------------------------------

.o_avatar,
.o_field_widget img.rounded-circle {
    transition: opacity 0.15s ease;
}

.o_avatar:hover,
.o_field_widget img.rounded-circle:hover {
    opacity: 0.85;
}

// -----------------------------------------------------------------------------
// SWITCH/TOGGLE
// SAFE: Background only
// -----------------------------------------------------------------------------

.form-switch .form-check-input {
    transition: background-color 0.2s ease, background-position 0.2s ease;
}

// -----------------------------------------------------------------------------
// SIDEBAR/ACTION MENU HOVER
// SAFE: Background and color only
// -----------------------------------------------------------------------------

.o_action_manager .o_content {
    transition: background-color 0.2s ease;
}

// -----------------------------------------------------------------------------
// CARD/SHEET HOVER (Opt-in)
// SAFE: Shadow only
// -----------------------------------------------------------------------------

.ops-hover-shadow {
    transition: box-shadow 0.2s ease;
}

.ops-hover-shadow:hover {
    box-shadow: var(--ops-shadow-lg, 0 10px 25px rgba(0, 0, 0, 0.1));
}

// -----------------------------------------------------------------------------
// NOTIFICATION BADGE
// SAFE: Shadow pulse (no transform)
// -----------------------------------------------------------------------------

.o_notification_counter,
.badge.rounded-pill[data-count]:not([data-count="0"]) {
    animation: ops-badge-pulse 2s infinite;
}

@keyframes ops-badge-pulse {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5);
    }
    50% {
        box-shadow: 0 0 0 4px rgba(239, 68, 68, 0);
    }
}

// -----------------------------------------------------------------------------
// REDUCED MOTION SUPPORT
// -----------------------------------------------------------------------------

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
