// =============================================================================
// OPS Theme - Settings Page Styling
// =============================================================================
// LIGHT MODE DEFAULT - hardcoded fallbacks for readability
// =============================================================================

// =============================================================================
// SELECTED TABS - Override Odoo's text-bg-primary (purple to blue)
// DevTools shows: a.tab.selected.text-bg-primary.shadow-none
// =============================================================================
.o_setting_container .tab.selected,
.settings_tab .tab.selected,
a.tab.selected.text-bg-primary,
.tab.selected.text-bg-primary,
a.tab.text-bg-primary,
.tab.text-bg-primary {
    background-color: #3b82f6 !important;
    color: #ffffff !important;
}

// Settings horizontal tabs styling
.o_setting_container .settings_tab .tab,
div.settings_tab a.tab,
.settings_tab a.tab {
    color: #64748b !important;
    background: transparent !important;
    border-bottom: 2px solid transparent;
    padding: 12px 20px;
    transition: all 0.2s ease;
}

div.settings_tab a.tab:hover,
.settings_tab a.tab:hover,
.settings_tab .tab:hover {
    color: #1e293b !important;
    background: #f8fafc !important;
}

div.settings_tab a.tab.selected,
.settings_tab .tab.selected,
.settings_tab a.tab.selected,
a.tab.selected {
    color: #ffffff !important;
    background-color: #3b82f6 !important;
    border-radius: 6px;
}

// =============================================================================
// GLOBAL SETTINGS PAGE - LIGHT MODE DEFAULT
// =============================================================================
.o_base_settings,
.o_settings_container {
    background-color: #f1f5f9 !important;
    color: #1e293b !important;

    // Settings panel/card - FORCE white, NO gradient
    .o_setting_box,
    .o_settings_box {
        background: #ffffff !important;
        background-color: #ffffff !important;
        background-image: none !important;
        color: #1e293b !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
    }

    // Settings left/right panes
    .o_setting_left_pane,
    .o_setting_right_pane {
        color: #1e293b !important;
    }

    // Section headers
    h2, .h2 {
        color: #1e293b !important;
        font-weight: 600;
    }

    // Labels and text
    label,
    .o_form_label {
        color: #64748b !important;
    }

    // Muted/secondary text
    .text-muted,
    small,
    .text-secondary {
        color: #64748b !important;
    }

    // Settings description text
    .o_setting_box .text-muted,
    .text-900 {
        color: #64748b !important;
    }

    // App blocks
    .app_settings_block {
        background-color: #ffffff !important;
        color: #1e293b !important;

        h2 {
            color: #1e293b !important;
        }
    }

    // Card containers - ensure white background, no gradient
    .card,
    .o_settings_container .card {
        background: #ffffff !important;
        background-color: #ffffff !important;
        background-image: none !important;
        border: 1px solid #e2e8f0 !important;
    }

    // Left pane - transparent background
    .o_setting_left_pane {
        background: transparent !important;
        background-color: transparent !important;
        background-image: none !important;
    }

    // Section headers - remove any colored/gradient backgrounds
    h2,
    .o_app_settings_header {
        background: transparent !important;
        background-color: transparent !important;
        background-image: none !important;
        border-bottom: 1px solid #e2e8f0;
        padding-bottom: 8px;
        margin-bottom: 16px;
    }

    // Override any highlighted/searchable sections - FORCE white
    .o_setting_box.o_searchable_setting,
    .o_setting_box[style*="background"],
    .o_setting_box.col-12,
    .o_setting_box.col-lg-6,
    div.o_setting_box {
        background: #ffffff !important;
        background-color: #ffffff !important;
        background-image: none !important;
    }

    // Sidebar/navigation - vertical tabs
    .o_base_settings .settings_tab,
    .settings_tab {
        background-color: #ffffff !important;

        .selected,
        a.selected,
        .tab.selected {
            background-color: #3b82f6 !important;
            color: #ffffff !important;
        }

        a {
            color: #1e293b !important;

            &:hover {
                background-color: #f8fafc !important;
            }

            &.selected {
                background-color: #3b82f6 !important;
                color: #ffffff !important;
            }
        }
    }
}

// =============================================================================
// SETTINGS CARDS - Kill gradient/colored backgrounds globally
// DevTools shows: div.o_setting_box.col-12.col-lg-6.o_searchable_setting
// =============================================================================
.o_setting_box,
.o_setting_box.col-12,
.o_setting_box.col-lg-6,
.o_searchable_setting,
div.o_setting_box,
.o_setting_box.o_searchable_setting {
    background: #ffffff !important;
    background-color: #ffffff !important;
    background-image: none !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
}

// Settings container background
.o_settings_container,
.app_settings_block,
div.app_settings_block {
    background: #f8fafc !important;
    background-image: none !important;
}

// =============================================================================
// Theme configuration app section
// =============================================================================
.o_base_settings {
    .app_settings_block[data-key="ops_theme"] {

        // Color picker fields
        .o_field_color {
            input[type="color"] {
                width: 60px;
                height: 36px;
                padding: 2px;
                border: 1px solid #e2e8f0 !important;
                border-radius: 8px;
                cursor: pointer;

                &::-webkit-color-swatch-wrapper {
                    padding: 2px;
                }

                &::-webkit-color-swatch {
                    border-radius: 4px;
                    border: none;
                }
            }
        }

        // Color preview swatch
        .ops-color-preview {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 1px solid #e2e8f0 !important;
            vertical-align: middle;
            margin-left: 0.5rem;
        }

        // Login background preview
        .oe_avatar {
            max-width: 200px;
            max-height: 120px;
            border-radius: 8px;
            border: 1px solid #e2e8f0 !important;
        }

        // Section blocks
        .o_setting_box {
            border-bottom: 1px solid #e2e8f0 !important;
            padding-bottom: 1rem;
            margin-bottom: 1rem;

            &:last-child {
                border-bottom: none;
            }
        }

        // Action buttons
        .btn-secondary {
            background-color: #f8fafc !important;
            border-color: #e2e8f0 !important;
            color: #1e293b !important;

            &:hover {
                background-color: #e2e8f0 !important;
                border-color: #3b82f6 !important;
            }

            .fa {
                margin-right: 0.5rem;
            }
        }
    }
}

// =============================================================================
// User preferences display section
// =============================================================================
.o_form_view {
    .o_group[name="ops_display_preferences"],
    .o_group[name="ops_display"] {

        // Radio button styling
        .o_field_radio {
            .o_radio_item {
                display: inline-flex;
                align-items: center;
                margin-right: 1.5rem;

                input[type="radio"] {
                    margin-right: 0.5rem;
                    accent-color: #3b82f6;
                }

                label {
                    margin-bottom: 0;
                    cursor: pointer;
                    font-weight: normal;
                    color: #1e293b !important;
                }
            }
        }
    }
}

// =============================================================================
// Company form theme tab
// =============================================================================
.o_form_view {
    .o_notebook {
        .tab-pane[name="ops_theme"] {

            // Color picker in company form
            .o_field_color {
                input[type="color"] {
                    width: 50px;
                    height: 32px;
                    padding: 2px;
                    border: 1px solid #e2e8f0 !important;
                    border-radius: 4px;
                    cursor: pointer;
                }
            }

            // Theme image preview
            .oe_avatar {
                max-width: 150px;
                max-height: 100px;
                border-radius: 8px;
            }
        }
    }
}

// =============================================================================
// DARK MODE OVERRIDES (only when explicitly set)
// =============================================================================
[data-color-mode="dark"] {
    .o_base_settings,
    .o_settings_container {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;

        .o_setting_box,
        .o_settings_box,
        .app_settings_block {
            background-color: #1e293b !important;
            color: #f1f5f9 !important;
            border-color: #334155 !important;
        }

        h2, .h2 {
            color: #f1f5f9 !important;
        }

        label, .o_form_label, .text-muted {
            color: #94a3b8 !important;
        }

        .settings_tab {
            background-color: #1e293b !important;

            a {
                color: #f1f5f9 !important;
            }
        }
    }
}
