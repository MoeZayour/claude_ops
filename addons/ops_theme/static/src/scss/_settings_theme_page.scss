/* =============================================================================
   OPS Theme — Settings Page Styles
   Verified against Odoo 19 DOM structure (2026-02-08)

   Radio widget DOM (Odoo 19):
     .o_field_widget.o_field_radio
       div[role="radiogroup"].o_horizontal|.o_vertical
         .form-check.o_radio_item
           input.form-check-input.o_radio_input
           label.form-check-label.o_form_label

   Color widget DOM:
     .o_field_widget.o_field_color.d-flex  (background = selected color)
       input[type="color"].w-100.h-100.opacity-0

   Settings page DOM:
     .app_settings_block[data-key="ops_theme"]
       .o_setting_box
         .o_setting_left_pane
         .o_setting_right_pane
   ============================================================================= */

/* --- Scope: OPS Theme settings app block only --- */
.app_settings_block[data-key="ops_theme"] {

    /* =================================================================
       1. HORIZONTAL RADIO FINE-TUNING
       Using options="{'horizontal': True}" in XML generates .o_horizontal
       which Odoo natively makes inline-flex + wrap. We just add gap.
       ================================================================= */

    .o_field_radio {
        /* Horizontal radios: add gap between items */
        .o_horizontal {
            gap: 6px 20px;

            .o_radio_item {
                margin-right: 0 !important; /* gap handles spacing */
            }
        }

        /* Vertical radios (theme preset): tighter spacing */
        .o_vertical .o_radio_item {
            padding: 2px 0;
        }

        /* Radio items: no extra margin */
        .o_radio_item,
        .form-check {
            white-space: nowrap;
        }
    }


    /* =================================================================
       2. COLOR SWATCHES — Enlarge from default ~24px to 48px
       .o_field_color is the visible colored div (shows background color).
       The input[type=color] inside is opacity-0, just a click target.
       ================================================================= */

    .o_field_color {
        width: 48px !important;
        height: 48px !important;
        min-width: 48px !important;
        min-height: 48px !important;
        border-radius: 10px !important;
        border: 2px solid rgba(0, 0, 0, 0.08) !important;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
        flex-shrink: 0;

        &:hover {
            transform: scale(1.06);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.14);
        }

        input[type="color"] {
            border-radius: 10px !important;
        }
    }


    /* =================================================================
       3. TERMS & CONDITIONS EDITOR — Minimum height for HTML widget
       Field: fields.Html with widget="html", class="ops-terms-editor"
       ================================================================= */

    .ops-terms-editor {
        width: 100% !important;

        .o_field_html,
        .odoo-editor-editable,
        .note-editable,
        .oe_form_field_html_text,
        iframe,
        .o_readonly,
        textarea {
            min-height: 140px !important;
            width: 100% !important;
        }
    }

    /* Backup selector by field name */
    .o_field_widget[name="ops_report_terms"] {
        width: 100% !important;
    }


    /* =================================================================
       4. LOGIN BACKGROUND IMAGE — Constrain preview height
       ================================================================= */

    .ops-login-preview {
        img {
            max-height: 120px !important;
            width: auto !important;
            object-fit: cover;
            border-radius: 6px;
        }

        .o_field_image,
        .o_image,
        .o_image_preview {
            max-height: 140px !important;
            overflow: hidden;
        }
    }


    /* =================================================================
       5. SIGNATURE LABELS — Prevent truncation, full-width inputs
       ================================================================= */

    .ops-signature-row {
        .o_field_widget {
            width: 100% !important;
        }

        label,
        .o_form_label {
            white-space: nowrap;
            overflow: visible !important;
            text-overflow: unset !important;
            font-size: 0.82rem;
            font-weight: 600;
            margin-bottom: 4px;
            display: block;
        }
    }

    .o_field_widget[name*="ops_signature_label"] {
        width: 100% !important;

        input {
            width: 100% !important;
        }
    }


    /* =================================================================
       6. SECTION SUB-HEADERS (blue left border accent)
       ================================================================= */

    .ops-settings-sub-header {
        font-size: 0.8rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: #64748b;
        padding: 8px 0 6px 12px;
        margin: 16px 0 12px 0;
        border-left: 3px solid var(--ops-secondary, #3b82f6);
        background: linear-gradient(90deg, rgba(var(--ops-secondary-rgb, 59, 130, 246), 0.04), transparent);
    }


    /* =================================================================
       7. GENERAL POLISH
       ================================================================= */

    .o_setting_box {
        border-radius: 6px;
        transition: background-color 0.12s ease;

        &:hover {
            background-color: rgba(0, 0, 0, 0.012);
        }
    }

    .o_setting_right_pane {
        .o_field_radio {
            width: auto !important;
        }

        .o_setting_field_input,
        .o_field_widget input.o_input {
            max-width: 100% !important;
        }
    }

    /* Reset button: muted until hover */
    .btn-outline-secondary {
        opacity: 0.7;
        transition: opacity 0.15s ease;

        &:hover {
            opacity: 1;
        }
    }

    /* Color rows: tighter vertical spacing */
    .row.g-0 > [class*="col-"] > .o_setting_box {
        padding-top: 10px;
        padding-bottom: 10px;
    }

    /* Section description text */
    > .text-muted:first-child,
    > div > .text-muted:first-child {
        font-size: 0.88em;
    }
}


/* =================================================================
   DARK MODE
   ================================================================= */

html[data-bs-theme="dark"] {
    .app_settings_block[data-key="ops_theme"] {

        .ops-settings-sub-header {
            color: #94a3b8;
            border-left-color: #60a5fa;
            background: linear-gradient(90deg, rgba(96, 165, 250, 0.06), transparent);
        }

        .o_field_color {
            border-color: rgba(255, 255, 255, 0.1) !important;

            &:hover {
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
            }
        }

        .o_setting_box:hover {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .btn-outline-secondary {
            color: #94a3b8;
            border-color: #475569;

            &:hover {
                color: #f1f5f9;
                border-color: #64748b;
            }
        }
    }
}
