// =============================================================================
// OPS THEME - COMPLETE DEBRANDING
// =============================================================================
// Remove/override ALL Odoo brand colors and references
// Odoo purple hex values: #714B67, #875A7B, #7C7BAD, #6B5B95
// =============================================================================

// =============================================================================
// Override Odoo CSS Variables at Root Level
// =============================================================================
:root {
    // Override Odoo's brand variables
    // --o-brand-odoo: Used for NAVBAR background - must be dark slate
    // --o-brand-primary: Used for buttons/links - stays blue
    --o-brand-odoo: #1e293b !important;           // NAVBAR - dark slate (NOT purple!)
    --o-brand-primary: #3b82f6 !important;        // Buttons - OPS blue
    --primary: #3b82f6 !important;
    --o-main-color: #3b82f6 !important;
    --o-action-color: #3b82f6 !important;
    --o-webclient-color-scheme: #1e293b !important;
    --o-navbar-background: #1e293b !important;    // Force navbar bg

    // Override Bootstrap primary
    --bs-primary: #3b82f6 !important;
    --bs-primary-rgb: 59, 130, 246 !important;
    --bs-link-color: #3b82f6 !important;
}

// =============================================================================
// Primary Buttons - Override ALL purple buttons
// =============================================================================
.btn-primary,
.btn.btn-primary,
button.btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
    color: #fff !important;

    &:hover,
    &:focus,
    &:active,
    &.active,
    &:not(:disabled):not(.disabled):active {
        background-color: var(--ops-secondary-hover, #2563eb) !important;
        border-color: var(--ops-secondary-hover, #2563eb) !important;
        color: #fff !important;
    }

    &:focus,
    &:focus-visible {
        box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25) !important;
    }
}

// Outline primary buttons
.btn-outline-primary {
    color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;

    &:hover,
    &:focus,
    &:active {
        background-color: var(--ops-secondary, #3b82f6) !important;
        border-color: var(--ops-secondary, #3b82f6) !important;
        color: #fff !important;
    }
}

// =============================================================================
// Links - Override purple links
// =============================================================================
a:not(.btn):not(.nav-link):not(.dropdown-item):not(.badge) {
    color: var(--ops-secondary, #3b82f6);

    &:hover {
        color: var(--ops-secondary-hover, #2563eb);
    }
}

// =============================================================================
// Search View Facets (Filter tags)
// =============================================================================
.o_searchview_facet {
    background-color: var(--ops-secondary, #3b82f6) !important;
    color: #fff !important;
    border-color: var(--ops-secondary, #3b82f6) !important;

    .o_facet_value,
    .o_facet_values_and,
    .o_facet_remove {
        color: #fff !important;
    }
}

// =============================================================================
// Primary Badges
// =============================================================================
.badge.bg-primary,
.badge.text-bg-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    color: #fff !important;
}

// Override specific status badges that use purple (Quotation, etc.)
.badge {
    &[title="Quotation"],
    &[data-tooltip="Quotation"],
    &.text-bg-info:not(.bg-info) {
        background-color: rgba(59, 130, 246, 0.15) !important;
        color: var(--ops-secondary, #3b82f6) !important;
    }
}

// =============================================================================
// Form Focus States
// =============================================================================
.form-control:focus,
.form-select:focus,
input:focus,
textarea:focus,
select:focus {
    border-color: var(--ops-secondary, #3b82f6) !important;
    box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25) !important;
}

// Checkbox and radio accent color
input[type="checkbox"],
input[type="radio"] {
    accent-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Selection/Highlight Colors
// =============================================================================
::selection {
    background-color: var(--ops-secondary, #3b82f6);
    color: #fff;
}

// =============================================================================
// Progress bars
// =============================================================================
.progress-bar,
.progress-bar.bg-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Alerts
// =============================================================================
.alert-primary {
    background-color: rgba(59, 130, 246, 0.1) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
    color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Override ANY hardcoded Odoo purple inline styles
// =============================================================================
[style*="#714B67"],
[style*="#875A7B"],
[style*="#7C7BAD"],
[style*="#6B5B95"],
[style*="714B67"],
[style*="875A7B"],
[style*="7C7BAD"],
[style*="6B5B95"] {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Hide Odoo Logos and Branding
// =============================================================================
img[src*="odoo_logo"],
img[src*="odoo-logo"],
img[alt*="Odoo"],
img[alt*="odoo"] {
    &:not(.o_kanban_image):not(.o_image):not(.oe_avatar):not(.o_attachment_image) {
        display: none !important;
    }
}

// Hide Odoo text references in UI
.o_brand_promotion,
.o_odoo_logo,
[class*="odoo_logo"],
[class*="odoo-logo"],
.o_powered_by {
    display: none !important;
}

// =============================================================================
// Database Manager Debranding
// =============================================================================
.o_database_manager {
    .o_logo {
        display: none !important;
    }

    h1, h2, h3 {
        color: var(--ops-primary, #1e293b);
    }
}

// =============================================================================
// About Dialog
// =============================================================================
.o_about_dialog {
    .o_odoo_logo,
    img[src*="odoo"] {
        display: none !important;
    }
}

// =============================================================================
// Footer Debranding
// =============================================================================
footer {
    a[href*="odoo.com"] {
        display: none !important;
    }
}

// =============================================================================
// Loading Spinner - Replace purple
// =============================================================================
.o_loading,
.o_loading_indicator {
    background-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Active Menu Items
// =============================================================================
.o_menu_sections .active > a,
.o_menu_sections .show > a,
.o_menu_sections a.active {
    color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Dropdown Active States
// =============================================================================
.dropdown-menu .dropdown-item.active,
.dropdown-menu .dropdown-item:active {
    background-color: var(--ops-secondary, #3b82f6) !important;
    color: #fff !important;
}

// =============================================================================
// Calendar Event Colors
// =============================================================================
.fc-event.bg-primary,
.fc-event[style*="#714B67"],
.fc-event[style*="#875A7B"] {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Kanban Progress Bars
// =============================================================================
.o_kanban_record .progress-bar {
    background-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Chat/Messaging Colors
// =============================================================================
.o_ChatWindow {
    .o_ChatWindowHeader {
        background-color: var(--ops-primary, #1e293b) !important;
    }
}

// =============================================================================
// Notification Badge
// =============================================================================
.o_notification_counter {
    background-color: var(--ops-danger, #ef4444) !important;
}

// =============================================================================
// Switch/Toggle Active State
// =============================================================================
.custom-switch .custom-control-input:checked ~ .custom-control-label::before,
.form-switch .form-check-input:checked {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Pagination Active
// =============================================================================
.page-item.active .page-link {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Tab Active States
// =============================================================================
.nav-tabs .nav-link.active,
.nav-pills .nav-link.active {
    color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// List Group Active
// =============================================================================
.list-group-item.active {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// =============================================================================
// Navbar - FORCE dark slate (#1e293b), KILL all purple
// =============================================================================
.o_main_navbar {
    background: #1e293b !important;
    background-color: #1e293b !important;

    // Override any inline styles that might have purple
    &[style] {
        background: #1e293b !important;
        background-color: #1e293b !important;
    }

    a, button {
        color: rgba(255,255,255,0.9) !important;

        &:hover {
            color: #fff !important;
            background-color: rgba(255,255,255,0.1) !important;
        }
    }

    // Remove any purple from active states
    .show > a,
    .active > a,
    [aria-expanded="true"] {
        background-color: rgba(255,255,255,0.15) !important;
        color: #fff !important;
    }

    // All navbar children must inherit dark slate
    * {
        &[style*="#714B67"],
        &[style*="#875A7B"],
        &[style*="714B67"],
        &[style*="875A7B"] {
            background: #1e293b !important;
            background-color: #1e293b !important;
        }
    }
}

// Target navbar specifically by element attributes
nav.o_main_navbar,
.o_main_navbar.navbar,
header .o_main_navbar,
[class*="navbar"][class*="main"] {
    background: #1e293b !important;
    background-color: #1e293b !important;
}

// =============================================================================
// OWL Components - Override purple
// =============================================================================
.o_web_client {
    // Dropdown menus
    .o-dropdown-menu .dropdown-item.selected,
    .o-dropdown-menu .dropdown-item:active {
        background-color: var(--ops-secondary, #3b82f6) !important;
    }

    // Autocomplete
    .o-autocomplete--dropdown-menu .o-autocomplete--dropdown-item.ui-state-active {
        background-color: var(--ops-secondary, #3b82f6) !important;
    }
}

// =============================================================================
// Tooltips
// =============================================================================
.tooltip.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,
.tooltip.bs-tooltip-top .tooltip-arrow::before {
    border-top-color: var(--ops-primary, #1e293b) !important;
}

.tooltip-inner {
    background-color: var(--ops-primary, #1e293b) !important;
}

// =============================================================================
// Powered by Styling (Our custom footer)
// =============================================================================
.ops-powered-by {
    font-size: 0.75rem;
    color: var(--ops-text-secondary, #94a3b8);

    a {
        color: var(--ops-text-secondary, #94a3b8);
        text-decoration: none;

        &:hover {
            color: var(--ops-secondary, #3b82f6);
        }
    }
}

// =============================================================================
// Specific Odoo 19 Overrides
// =============================================================================

// Control panel buttons
.o_control_panel .btn-primary,
.o_cp_buttons .btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// Status bar buttons
.o_statusbar_buttons .btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// Form sheet buttons
.o_form_sheet_bg .btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// Dialog buttons
.modal .btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}

// Wizard buttons
.o_wizard .btn-primary {
    background-color: var(--ops-secondary, #3b82f6) !important;
    border-color: var(--ops-secondary, #3b82f6) !important;
}
