<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ================================================================
         OPS REPORT CSS — Structural styles for all OPS external documents
         ================================================================
         Called via t-call="ops_theme.ops_report_css" from any template.
         Colors come from _ops dict via inline styles in each template.
         This file provides typography, layout resets, and border control.
    ================================================================ -->

    <template id="ops_report_css">
        <style>
            /* ============================================================
               NUCLEAR BORDER RESET
               Kills ALL inherited Odoo/Bootstrap borders on every element
               inside .ops-report-page. OPS re-enables intentional borders
               exclusively via dedicated CSS classes below.
               ============================================================ */
            .ops-report-page table,
            .ops-report-page thead,
            .ops-report-page tbody,
            .ops-report-page tfoot,
            .ops-report-page tr,
            .ops-report-page th,
            .ops-report-page td,
            .ops-report-page div,
            .ops-report-page p,
            .ops-report-page span,
            .ops-report-page hr {
                border: none !important;
                border-top: none !important;
                border-right: none !important;
                border-bottom: none !important;
                border-left: none !important;
                outline: none !important;
                box-shadow: none !important;
            }

            /* Also nuke header/footer borders in OPS layout */
            .o_report_layout_ops .header,
            .o_report_layout_ops .header table,
            .o_report_layout_ops .header tr,
            .o_report_layout_ops .header td,
            .o_report_layout_ops .header th,
            .o_report_layout_ops .header div,
            .o_report_layout_ops .footer table,
            .o_report_layout_ops .footer tr,
            .o_report_layout_ops .footer td {
                border: none !important;
            }

            /* ============================================================
               INTENTIONAL BORDERS — CSS classes only
               Each class re-enables specific borders with !important
               at higher specificity than the reset.
               ============================================================ */

            /* Header accent line */
            .o_report_layout_ops .header hr.ops-accent-line {
                border: none !important;
                height: 2.5px !important;
                margin: 6px 0 0 0 !important;
            }

            /* Footer top divider */
            .o_report_layout_ops .footer table.ops-footer-table {
                border-top: 1px solid #e2e8f0 !important;
            }

            /* Info bar: outer border + cell dividers */
            .ops-report-page table.ops-info-bar {
                border: 1px solid rgba(0,0,0,0.10) !important;
                border-radius: 3px !important;
            }
            .ops-report-page table.ops-info-bar td.ops-info-cell + td.ops-info-cell {
                border-left: 1px solid #e2e8f0 !important;
            }

            /* Items table: row bottom dividers only */
            .ops-report-page table.ops-items-table tbody tr {
                border-bottom: 1px solid #f1f5f9 !important;
            }

            /* Section header bottom accent */
            .ops-report-page td.ops-section-line {
                border-bottom: 1px solid rgba(91,107,187,0.25) !important;
            }

            /* Totals block: row dividers + total row */
            .ops-report-page tr.ops-totals-row {
                border-bottom: 1px solid #e2e8f0 !important;
            }

            /* Summary bar (stock availability etc.) */
            .ops-report-page table.ops-summary-bar {
                border: 1px solid rgba(0,0,0,0.10) !important;
                border-radius: 3px !important;
            }
            .ops-report-page table.ops-summary-bar td + td {
                border-left: 1px solid rgba(0,0,0,0.06) !important;
            }

            /* Bank details box */
            .ops-report-page div.ops-bank-box {
                border: 1px solid #e2e8f0 !important;
                border-radius: 3px !important;
            }

            /* Terms left accent */
            .ops-report-page div.ops-terms-box {
                border-left: 3px solid #e2e8f0 !important;
            }

            /* Signature top lines */
            .ops-report-page div.ops-sig-line {
                border-top: 1px solid #cbd5e1 !important;
            }

            /* Verdict accent (stock availability) */
            .ops-report-page div.ops-verdict-ok {
                border-left: 3px solid #16a34a !important;
            }
            .ops-report-page div.ops-verdict-warn {
                border-left: 3px solid #dc2626 !important;
            }

            /* Disclaimer top line */
            .ops-report-page div.ops-disclaimer {
                border-top: 1px solid #e2e8f0 !important;
            }

            /* ============================================================
               TYPOGRAPHY
               ============================================================ */
            .ops-report-page {
                font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                font-size: 9pt;
                line-height: 1.45;
            }

            /* ============================================================
               ITEMS TABLE
               ============================================================ */
            .ops-items-table { width: 100%; border-collapse: collapse; margin-bottom: 4px; }
            .ops-items-table th {
                padding: 7px 8px;
                font-size: 7pt;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.3px;
            }
            .ops-items-table td {
                padding: 6px 8px;
                font-size: 8.5pt;
                vertical-align: top;
            }
            .ops-items-table .num { text-align: right; font-variant-numeric: tabular-nums; }
            .ops-items-table .ctr { text-align: center; }

            /* Zebra striping */
            .ops-items-table tbody tr:nth-child(even) { background: #f8fafc; }

            /* Product details */
            .ops-product-code { font-weight: 600; font-size: 7pt; color: #64748b; }
            .ops-product-desc { font-size: 7.5pt; color: #64748b; margin-top: 1px; }

            /* Page break safety */
            .ops-break-avoid { page-break-inside: avoid; }
        </style>
    </template>

</odoo>
