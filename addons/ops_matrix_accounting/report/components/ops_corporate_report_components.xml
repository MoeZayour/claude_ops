<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
        OPS CORPORATE REPORT COMPONENTS
        ================================
        Version: 1.0.0
        Reference: OPS_REPORT_BRANDING_GUIDE_v1.0.0

        SHARED COMPONENTS FOR ALL 16 OFFICIAL CORPORATE REPORTS:

        FINANCIAL (9):
        1. Balance Sheet
        2. Profit & Loss Statement
        3. Cash Flow Statement
        4. Trial Balance
        5. General Ledger
        6. Aged Receivables
        7. Aged Payables
        8. Partner Ledger
        9. Statement of Account

        TREASURY (3):
        10. PDC Registry
        11. PDC Maturity Analysis
        12. PDCs in Hand

        ASSET (2):
        13. Fixed Asset Register
        14. Depreciation Schedule

        INVENTORY (2):
        15. Stock Valuation
        16. Inventory Aging

        DESIGN: wkhtmltopdf compatible (CSS2.1, table-based layouts)
    -->

    <!-- ================================================================
         CORPORATE REPORT HEADER
         Shared component for all OPS corporate reports
         ================================================================ -->

    <template id="report_corporate_header">
        <!-- Gold Accent Bar - Company Primary Color -->
        <div t-attf-style="height: 4px; background-color: {{pc or '#5B6BBB'}}; margin-bottom: 0;"></div>

        <!-- Two-Column Header Table -->
        <table width="100%" style="border-collapse: collapse; margin-top: 15px; margin-bottom: 10px;">
            <tr>
                <!-- Company Info (Left) -->
                <td style="vertical-align: top; width: 60%;">
                    <table style="border-collapse: collapse;">
                        <tr>
                            <!-- Company Logo -->
                            <t t-if="doc.company_id.logo">
                                <td style="vertical-align: middle; padding-right: 15px;">
                                    <img t-att-src="image_data_uri(doc.company_id.logo)"
                                         style="max-height: 50px; max-width: 120px;"
                                         alt="Company Logo"/>
                                </td>
                            </t>
                            <t t-else="">
                                <td style="vertical-align: middle; padding-right: 15px;">
                                    <div t-attf-style="width: 50px; height: 50px; background-color: {{pc or '#5B6BBB'}};
                                                color: {{tc or '#ffffff'}}; font-size: 18px; font-weight: bold;
                                                text-align: center; line-height: 50px; border-radius: 4px;">
                                        <t t-esc="doc.company_id.name[:2].upper()"/>
                                    </div>
                                </td>
                            </t>
                            <!-- Company Details -->
                            <td style="vertical-align: middle;">
                                <div style="font-size: 16px; font-weight: 700; color: #1e293b; margin: 0;
                                            font-family: Arial, Helvetica, sans-serif;">
                                    <t t-esc="doc.company_id.name"/>
                                </div>
                                <div style="font-size: 10px; color: #64748b; margin-top: 3px;
                                            font-family: Arial, Helvetica, sans-serif;">
                                    <t t-if="doc.company_id.city">
                                        <t t-esc="doc.company_id.city"/><t t-if="doc.company_id.country_id">, </t>
                                    </t>
                                    <t t-esc="doc.company_id.country_id.name or ''"/>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>

                <!-- Report Meta (Right) -->
                <td style="vertical-align: top; width: 40%; text-align: right;">
                    <div style="font-size: 9px; color: #94a3b8; text-transform: uppercase;
                                letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                        Printed: <t t-esc="context_timestamp(datetime.datetime.now()).strftime('%b %d, %Y %H:%M')"/>
                    </div>
                    <div style="font-size: 9px; color: #94a3b8; margin-top: 3px;
                                font-family: Arial, Helvetica, sans-serif;">
                        Generated by: <t t-esc="user.name"/>
                    </div>
                </td>
            </tr>
        </table>

        <!-- Separator Line -->
        <div style="height: 1px; background-color: #e2e8f0; margin: 10px 0;"></div>
    </template>

    <!-- ================================================================
         REPORT TITLE SECTION
         Title + Pillar + Period display
         ================================================================ -->

    <template id="report_corporate_title">
        <div style="text-align: center; margin: 20px 0 25px 0;">
            <!-- Report Title -->
            <h1 style="font-size: 24px; font-weight: 300; font-family: Georgia, 'Times New Roman', serif;
                       color: #1e293b; margin: 0; line-height: 1.2;">
                <t t-esc="report_title or 'Financial Report'"/>
            </h1>

            <!-- Pillar/Category -->
            <t t-if="report_pillar">
                <div style="font-size: 10px; color: #64748b; text-transform: uppercase;
                            letter-spacing: 1px; margin-top: 5px; font-family: Arial, Helvetica, sans-serif;">
                    <t t-esc="report_pillar"/>
                </div>
            </t>

            <!-- Period Display -->
            <div style="font-size: 11px; color: #475569; margin-top: 8px;
                        font-family: Arial, Helvetica, sans-serif;">
                <t t-if="date_from and date_to">
                    Period: <span style="font-weight: 600;"><t t-esc="date_from"/></span>
                    to <span style="font-weight: 600;"><t t-esc="date_to"/></span>
                </t>
                <t t-elif="date_end">
                    As of: <span style="font-weight: 600;"><t t-esc="date_end"/></span>
                </t>
            </div>
        </div>
    </template>

    <!-- ================================================================
         REPORT FILTER INFO BAR
         Shows applied filters for context
         ================================================================ -->

    <template id="report_filter_bar">
        <div style="background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px;
                    padding: 10px 15px; margin-bottom: 20px;">
            <table width="100%" style="border-collapse: collapse; font-size: 9px;
                                       font-family: Arial, Helvetica, sans-serif;">
                <tr>
                    <!-- Scope -->
                    <td style="padding-right: 20px; vertical-align: middle;">
                        <span style="color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Scope:</span>
                        <span style="color: #1e293b; font-weight: 600; margin-left: 5px;">
                            <t t-if="doc.branch_ids">
                                <t t-esc="', '.join(doc.branch_ids.mapped('name')[:3])"/>
                                <t t-if="len(doc.branch_ids) > 3"> (+<t t-esc="len(doc.branch_ids) - 3"/> more)</t>
                            </t>
                            <t t-else="">Consolidated</t>
                        </span>
                    </td>

                    <!-- Currency -->
                    <td style="padding-right: 20px; vertical-align: middle;">
                        <span style="color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Currency:</span>
                        <span style="color: #1e293b; font-weight: 600; margin-left: 5px;">
                            <t t-esc="doc.company_id.currency_id.name"/>
                        </span>
                    </td>

                    <!-- Business Units (if applicable) -->
                    <t t-if="doc.business_unit_ids">
                        <td style="padding-right: 20px; vertical-align: middle;">
                            <span style="color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Business Units:</span>
                            <span style="color: #1e293b; font-weight: 600; margin-left: 5px;">
                                <t t-esc="', '.join(doc.business_unit_ids.mapped('name')[:2])"/>
                                <t t-if="len(doc.business_unit_ids) > 2"> (+<t t-esc="len(doc.business_unit_ids) - 2"/>)</t>
                            </span>
                        </td>
                    </t>

                    <!-- Status (if applicable) -->
                    <t t-if="doc.target_move">
                        <td style="vertical-align: middle;">
                            <span style="color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Entries:</span>
                            <span style="color: #1e293b; font-weight: 600; margin-left: 5px;">
                                <t t-if="doc.target_move == 'posted'">Posted Only</t>
                                <t t-else="">All Entries</t>
                            </span>
                        </td>
                    </t>
                </tr>
            </table>
        </div>
    </template>

    <!-- ================================================================
         REPORT NOTES SECTION
         For disclosures and compliance notes
         ================================================================ -->

    <template id="report_notes_section">
        <div style="margin-top: 30px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
            <div style="font-size: 10px; font-weight: 600; color: #64748b; text-transform: uppercase;
                        letter-spacing: 0.5px; margin-bottom: 8px; font-family: Arial, Helvetica, sans-serif;">
                Notes:
            </div>
            <div style="font-size: 9px; color: #64748b; font-family: Arial, Helvetica, sans-serif;">
                <ul style="margin: 0; padding-left: 15px; list-style-type: disc;">
                    <li style="margin-bottom: 3px;">
                        All amounts are in <t t-esc="doc.company_id.currency_id.name"/> unless otherwise stated.
                    </li>
                    <t t-if="doc.show_comparison">
                        <li style="margin-bottom: 3px;">
                            Comparative figures are for the same period in the prior year.
                        </li>
                    </t>
                    <t t-if="doc.target_move == 'posted'">
                        <li style="margin-bottom: 3px;">
                            This report includes posted entries only.
                        </li>
                    </t>
                    <t t-if="doc.branch_ids">
                        <li style="margin-bottom: 3px;">
                            Data is filtered by selected branch(es).
                        </li>
                    </t>
                    <li style="margin-bottom: 3px;">
                        Negative values are shown in parentheses with red color.
                    </li>
                </ul>
            </div>
        </div>
    </template>

    <!-- ================================================================
         CORPORATE REPORT FOOTER
         With OPS Framework branding badge
         ================================================================ -->

    <template id="report_corporate_footer">
        <div style="margin-top: 30px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
            <table width="100%" style="border-collapse: collapse; border: none; font-family: Arial, Helvetica, sans-serif;">
                <tr style="border: none;">
                    <!-- Branding (Left) -->
                    <td style="vertical-align: middle; width: 50%; border: none;">
                        <span style="font-size: 8px; color: #94a3b8; vertical-align: middle;">Powered by</span>
                        <img src="data:image/png;base64,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" style="height: 18px; vertical-align: middle; margin-left: 5px;" alt="OPS Framework"/>
                    </td>

                    <!-- Page Info (Right) -->
                    <td style="text-align: right; vertical-align: middle; width: 50%; border: none;">
                        <span style="font-size: 9px; color: #64748b;">
                            Page <span class="page"/> of <span class="topage"/>
                        </span>
                    </td>
                </tr>
            </table>
        </div>
    </template>

    <!-- ================================================================
         NUMBER FORMATTING HELPERS
         ================================================================ -->

    <!-- Format amount with color coding -->
    <template id="format_corporate_amount">
        <t t-if="not value or value == 0">
            <span style="color: #94a3b8;">0.00</span>
        </t>
        <t t-elif="value &lt; 0">
            <span style="color: #dc2626;">(<t t-esc="'{:,.2f}'.format(abs(value))"/>)</span>
        </t>
        <t t-else="">
            <span style="color: #1e293b;"><t t-esc="'{:,.2f}'.format(value)"/></span>
        </t>
    </template>

    <!-- Format percentage -->
    <template id="format_corporate_percentage">
        <t t-if="not value or value == 0">
            <span style="color: #94a3b8;">0.0%</span>
        </t>
        <t t-elif="value &lt; 0">
            <span style="color: #dc2626;">(<t t-esc="'{:.1f}'.format(abs(value))"/>%)</span>
        </t>
        <t t-else="">
            <span style="color: #16a34a;"><t t-esc="'{:.1f}'.format(value)"/>%</span>
        </t>
    </template>

    <!-- Format variance (with arrow indicators) -->
    <template id="format_corporate_variance">
        <t t-if="not value or value == 0">
            <span style="color: #94a3b8;">-</span>
        </t>
        <t t-elif="value &lt; 0">
            <span style="color: #dc2626;">
                <t t-esc="'{:,.2f}'.format(value)"/>
            </span>
        </t>
        <t t-else="">
            <span style="color: #16a34a;">
                +<t t-esc="'{:,.2f}'.format(value)"/>
            </span>
        </t>
    </template>

    <!-- ================================================================
         SECTION HEADER TEMPLATES
         Color-coded by report pillar
         ================================================================ -->

    <!-- Financial Section Header (Blue accent) -->
    <template id="section_header_financial">
        <div t-attf-style="background-color: #f8fafc; border-left: 4px solid {{pc or '#5B6BBB'}};
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Asset Section Header (Green accent) -->
    <template id="section_header_asset">
        <div style="background-color: #f0fdf4; border-left: 4px solid #16a34a;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Liability Section Header (Orange accent) -->
    <template id="section_header_liability">
        <div style="background-color: #fff7ed; border-left: 4px solid #f59e0b;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Equity Section Header (Purple accent) -->
    <template id="section_header_equity">
        <div style="background-color: #faf5ff; border-left: 4px solid #9333ea;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Revenue Section Header (Green accent) -->
    <template id="section_header_revenue">
        <div style="background-color: #f0fdf4; border-left: 4px solid #16a34a;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Expense Section Header (Red accent) -->
    <template id="section_header_expense">
        <div style="background-color: #fef2f2; border-left: 4px solid #dc2626;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- Treasury Section Header (Cyan accent) -->
    <template id="section_header_treasury">
        <div style="background-color: #ecfeff; border-left: 4px solid #0891b2;
                    padding: 8px 12px; margin: 15px 0 10px 0;">
            <span style="font-size: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase;
                         letter-spacing: 0.5px; font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="section_title"/>
            </span>
        </div>
    </template>

    <!-- ================================================================
         TABLE STYLING TEMPLATES
         ================================================================ -->

    <!-- Data Table Header Row -->
    <template id="table_header_row">
        <tr style="border-bottom: 2px solid #1e293b;">
            <t t-foreach="columns" t-as="col">
                <th t-att-style="'padding: 8px 10px; font-size: 9px; font-weight: 600; color: #1e293b;
                                  text-transform: uppercase; letter-spacing: 0.5px;
                                  text-align: ' + (col.get('align', 'left')) + ';
                                  font-family: Arial, Helvetica, sans-serif;'">
                    <t t-esc="col.get('label', '')"/>
                </th>
            </t>
        </tr>
    </template>

    <!-- Subtotal Row -->
    <template id="subtotal_row">
        <tr style="border-top: 1px solid #e2e8f0; background-color: #f8fafc;">
            <td t-att-colspan="label_colspan or 1"
                style="padding: 6px 10px; font-size: 10px; font-weight: 600; color: #475569;
                       font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="label"/>
            </td>
            <td t-att-style="'padding: 6px 10px; font-size: 10px; font-weight: 600; color: #1e293b;
                             text-align: right; font-family: Consolas, Monaco, monospace;'">
                <t t-call="ops_matrix_accounting.format_corporate_amount">
                    <t t-set="value" t-value="amount"/>
                </t>
            </td>
        </tr>
    </template>

    <!-- Grand Total Row -->
    <template id="grand_total_row">
        <tr style="border-top: 2px solid #1e293b; border-bottom: 3px double #1e293b;
                   background-color: #f1f5f9;">
            <td t-att-colspan="label_colspan or 1"
                style="padding: 10px; font-size: 11px; font-weight: 700; color: #1e293b;
                       text-transform: uppercase; letter-spacing: 0.5px;
                       font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="label"/>
            </td>
            <td t-att-style="'padding: 10px; font-size: 12px; font-weight: 700; color: #1e293b;
                             text-align: right; font-family: Consolas, Monaco, monospace;'">
                <t t-call="ops_matrix_accounting.format_corporate_amount">
                    <t t-set="value" t-value="amount"/>
                </t>
            </td>
        </tr>
    </template>

    <!-- ================================================================
         VERIFICATION BADGE TEMPLATES
         ================================================================ -->

    <!-- Balance Check Badge -->
    <template id="balance_check_badge">
        <div style="text-align: center; margin-top: 20px;">
            <t t-if="is_balanced">
                <span style="display: inline-block; background-color: #dcfce7; color: #16a34a;
                             padding: 8px 16px; border-radius: 4px; font-size: 11px; font-weight: 600;
                             border: 1px solid #86efac; font-family: Arial, Helvetica, sans-serif;">
                    BALANCED
                </span>
            </t>
            <t t-else="">
                <span style="display: inline-block; background-color: #fef2f2; color: #dc2626;
                             padding: 8px 16px; border-radius: 4px; font-size: 11px; font-weight: 600;
                             border: 1px solid #fecaca; font-family: Arial, Helvetica, sans-serif;">
                    UNBALANCED - Difference: <t t-esc="'{:,.2f}'.format(difference or 0)"/>
                </span>
            </t>
        </div>
    </template>

    <!-- ================================================================
         IN-PAGE BRANDED FOOTER
         Renders INSIDE the page body (reliable in wkhtmltopdf)
         Badge via static file path â€” no base64 embedding
         ================================================================ -->

    <template id="report_corporate_in_page_footer" name="OPS In-Page Branded Footer">
        <div style="margin-top: 28px; padding-top: 12px; border-top: 1px solid #e2e8f0;">
            <table width="100%" style="border-collapse: collapse; border: none;">
                <tr style="border: none;">
                    <td style="border: none; vertical-align: middle;">
                        <span style="font-size: 8pt; color: #666666;">Powered by</span>
                        <img src="/ops_matrix_accounting/static/src/img/ops_badge_footer.png"
                             width="120" height="20"
                             style="vertical-align: middle; margin-left: 2px;"
                             alt="OPS Framework"/>
                    </td>
                </tr>
            </table>
        </div>
    </template>

    <!-- ================================================================
         KPI CARD TEMPLATE
         ================================================================ -->

    <template id="kpi_card">
        <div t-att-style="'display: inline-block; width: ' + (width or '23%') + ';
                          margin-right: 1%; vertical-align: top;
                          background-color: #ffffff; border: 1px solid #e2e8f0;
                          border-top: 3px solid ' + (accent_color or pc or '#5B6BBB') + ';
                          border-radius: 4px; padding: 12px; text-align: center;'">
            <div style="font-size: 9px; color: #64748b; text-transform: uppercase;
                        letter-spacing: 0.5px; margin-bottom: 5px;
                        font-family: Arial, Helvetica, sans-serif;">
                <t t-esc="label"/>
            </div>
            <div style="font-size: 18px; font-weight: 700; color: #1e293b;
                        font-family: Consolas, Monaco, monospace;">
                <t t-call="ops_matrix_accounting.format_corporate_amount">
                    <t t-set="value" t-value="amount"/>
                </t>
            </div>
            <t t-if="subtitle">
                <div style="font-size: 8px; color: #94a3b8; margin-top: 3px;
                            font-family: Arial, Helvetica, sans-serif;">
                    <t t-esc="subtitle"/>
                </div>
            </t>
        </div>
    </template>

</odoo>
