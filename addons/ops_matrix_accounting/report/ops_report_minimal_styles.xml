<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
        OPS FRAMEWORK MINIMAL REPORT STYLING
        ====================================
        Design Philosophy: Invisible Design - Data Speaks, Design Supports

        - No decorative elements (no colored boxes, badges, equation bars)
        - Typography creates hierarchy (bold weight, indentation, white space)
        - One dynamic accent: Company's primary color
        - Color = Meaning only: Black for normal, Red for negatives
        - ~100 lines of clean, professional CSS
    -->

    <template id="ops_minimal_report_styles">
        <style type="text/css">
            /* OPS FRAMEWORK MINIMAL REPORT STYLING
               ====================================
               Clean. Professional. Timeless.
            */

            @page {
                size: A4 portrait;
                margin: 15mm;
            }

            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            .ops-report {
                font-family: 'Segoe UI', Arial, sans-serif;
                font-size: 9pt;
                color: #1A1A1A;
                line-height: 1.5;
                background: #ffffff;
            }

            /* Title */
            .ops-title {
                font-size: 18pt;
                font-weight: 700;
                margin: 0;
                letter-spacing: -0.5px;
                color: #1A1A1A;
            }

            .ops-subtitle {
                font-size: 10pt;
                color: #666;
                margin-top: 4px;
            }

            /* Dynamic accent line - uses company primary color via inline style */
            .ops-accent-line {
                width: 50px;
                height: 3px;
                margin-top: 12px;
                margin-bottom: 24px;
            }

            /* Meta info */
            .ops-meta {
                font-size: 8pt;
                color: #666;
                margin-bottom: 24px;
            }

            .ops-meta strong {
                color: #1A1A1A;
            }

            .ops-meta-item {
                display: inline-block;
                margin-right: 24px;
            }

            /* Section headers */
            .ops-section {
                font-size: 10pt;
                font-weight: 700;
                margin-top: 20px;
                margin-bottom: 4px;
                color: #1A1A1A;
            }

            .ops-subsection {
                font-weight: 600;
                margin-top: 12px;
                color: #374151;
            }

            /* Data rows (non-table layout) */
            .ops-row {
                display: table;
                width: 100%;
                padding: 3px 0;
            }

            .ops-row-label {
                display: table-cell;
            }

            .ops-row-amount {
                display: table-cell;
                text-align: right;
                font-family: 'Consolas', 'Monaco', monospace;
                min-width: 120px;
            }

            /* Indentation */
            .ops-indent-1 { padding-left: 20px; }
            .ops-indent-2 { padding-left: 40px; }
            .ops-indent-3 { padding-left: 60px; }

            /* Subtotal */
            .ops-subtotal {
                font-weight: 600;
                border-top: 1px solid #1A1A1A;
                padding-top: 4px;
                margin-top: 4px;
            }

            /* Total - double line (accounting standard) */
            .ops-total {
                font-size: 10pt;
                font-weight: 700;
                border-top: 2px solid #1A1A1A;
                border-bottom: 3px double #1A1A1A;
                padding-top: 6px;
                padding-bottom: 4px;
                margin-top: 8px;
            }

            /* Negative values - RED */
            .ops-negative {
                color: #DA291C !important;
            }

            /* Zero values - muted */
            .ops-zero {
                color: #999 !important;
            }

            /* Positive values - standard black */
            .ops-positive {
                color: #1A1A1A !important;
            }

            /* Footer */
            .ops-footer {
                border-top: 1px solid #e5e5e5;
                padding-top: 12px;
                margin-top: 40px;
                font-size: 8pt;
                color: #999;
            }

            .ops-footer-brand {
                float: right;
            }

            /* Spacers */
            .ops-spacer { height: 16px; }
            .ops-spacer-sm { height: 8px; }
            .ops-spacer-lg { height: 32px; }

            /* ============================================
               TABLES (for tabular reports)
               ============================================ */
            .ops-table {
                width: 100%;
                border-collapse: collapse;
                font-size: 9pt;
            }

            .ops-table th {
                text-align: left;
                font-size: 8pt;
                font-weight: 600;
                color: #666;
                text-transform: uppercase;
                letter-spacing: 0.3px;
                padding: 8px 10px;
                border-bottom: 2px solid #1A1A1A;
            }

            .ops-table th.num {
                text-align: right;
            }

            .ops-table td {
                padding: 6px 10px;
                border-bottom: 1px solid #e5e5e5;
                vertical-align: middle;
            }

            .ops-table td.num {
                text-align: right;
                font-family: 'Consolas', 'Monaco', monospace;
            }

            .ops-table tr.subtotal td {
                font-weight: 600;
                border-top: 1px solid #1A1A1A;
                border-bottom: 1px solid #1A1A1A;
            }

            .ops-table tr.total td {
                font-weight: 700;
                border-top: 2px solid #1A1A1A;
                border-bottom: 3px double #1A1A1A;
            }

            /* Row levels for hierarchical data */
            .ops-table tr.level-0 td:first-child { font-weight: 700; }
            .ops-table tr.level-1 td:first-child { padding-left: 20px; font-weight: 600; }
            .ops-table tr.level-2 td:first-child { padding-left: 40px; }
            .ops-table tr.level-3 td:first-child { padding-left: 60px; color: #666; }

            /* Section header rows */
            .ops-table tr.section-header td {
                font-weight: 700;
                font-size: 10pt;
                padding-top: 16px;
                border-bottom: 1px solid #9ca3af;
                background: transparent;
            }

            /* ============================================
               MINIMAL KPI DISPLAY (optional)
               ============================================ */
            .ops-kpi-row {
                margin-bottom: 20px;
            }

            .ops-kpi-row table {
                width: 100%;
                border-collapse: collapse;
            }

            .ops-kpi-row td {
                padding: 12px 16px;
                border-bottom: 1px solid #e5e5e5;
            }

            .ops-kpi-label {
                font-size: 8pt;
                color: #666;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .ops-kpi-value {
                font-family: 'Consolas', 'Monaco', monospace;
                font-size: 14pt;
                font-weight: 700;
                color: #1A1A1A;
            }

            /* ============================================
               NOTES SECTION
               ============================================ */
            .ops-notes {
                margin-top: 30px;
                padding: 12px 16px;
                background-color: #f8f9fa;
                border-left: 3px solid #e5e5e5;
                font-size: 8pt;
                color: #666;
            }

            .ops-notes-title {
                font-weight: 600;
                color: #374151;
                margin-bottom: 8px;
            }

            .ops-notes ul {
                margin: 0;
                padding-left: 16px;
            }

            .ops-notes li {
                margin-bottom: 4px;
            }

            /* ============================================
               UTILITY CLASSES
               ============================================ */
            .text-right { text-align: right !important; }
            .text-center { text-align: center !important; }
            .text-left { text-align: left !important; }
            .font-bold { font-weight: 700; }
            .font-semibold { font-weight: 600; }
            .no-break { page-break-inside: avoid; }
            .page-break { page-break-before: always; }

            /* Print optimization */
            @media print {
                .ops-report { background: #fff; }
                .no-print { display: none !important; }
            }
        </style>
    </template>

    <!-- ============================================
         MINIMAL LAYOUT WRAPPER
         ============================================ -->
    <template id="ops_minimal_external_layout">
        <t t-call="ops_matrix_accounting.ops_minimal_report_styles"/>
        <t t-call="web.external_layout">
            <div class="ops-report">
                <t t-out="0"/>
            </div>
        </t>
    </template>

    <!-- ============================================
         NUMBER FORMATTING HELPER TEMPLATE
         ============================================ -->
    <template id="ops_minimal_format_amount">
        <!--
            Usage: <t t-call="ops_matrix_accounting.ops_minimal_format_amount">
                      <t t-set="value" t-value="some_number"/>
                   </t>
        -->
        <t t-if="value == 0">
            <span class="ops-zero">0.00</span>
        </t>
        <t t-elif="value &lt; 0">
            <span class="ops-negative">(<t t-esc="'{:,.2f}'.format(abs(value))"/>)</span>
        </t>
        <t t-else="">
            <span class="ops-positive"><t t-esc="'{:,.2f}'.format(value)"/></span>
        </t>
    </template>

    <!-- ============================================
         MINIMAL HEADER TEMPLATE
         ============================================ -->
    <template id="ops_minimal_header">
        <!--
            Usage: <t t-call="ops_matrix_accounting.ops_minimal_header">
                      <t t-set="report_title" t-value="'Balance Sheet'"/>
                      <t t-set="company_name" t-value="company.name"/>
                      <t t-set="date_info" t-value="'As at December 31, 2024'"/>
                      <t t-set="primary_color" t-value="company.primary_color or '#C9A962'"/>
                   </t>
        -->
        <h1 class="ops-title"><t t-esc="report_title"/></h1>
        <div class="ops-subtitle"><t t-esc="company_name"/></div>
        <div class="ops-accent-line" t-attf-style="background-color: #{primary_color};"/>
        <div class="ops-meta">
            <span class="ops-meta-item"><t t-esc="date_info"/></span>
            <t t-if="currency">
                <span class="ops-meta-item">Currency: <strong><t t-esc="currency"/></strong></span>
            </t>
            <t t-if="target_move">
                <span class="ops-meta-item">Target: <strong><t t-esc="target_move"/></strong></span>
            </t>
        </div>
    </template>

    <!-- ============================================
         MINIMAL FOOTER TEMPLATE
         ============================================ -->
    <template id="ops_minimal_footer">
        <!--
            Usage: <t t-call="ops_matrix_accounting.ops_minimal_footer">
                      <t t-set="generated_date" t-value="'2024-12-31 10:30'"/>
                      <t t-set="primary_color" t-value="company.primary_color or '#C9A962'"/>
                   </t>
        -->
        <div class="ops-footer">
            <span>Generated: <t t-esc="generated_date"/></span>
            <span class="ops-footer-brand" t-attf-style="color: #{primary_color};">OPS Framework</span>
        </div>
    </template>

    <!-- ============================================
         MINIMAL NOTES TEMPLATE
         ============================================ -->
    <template id="ops_minimal_notes">
        <div class="ops-notes">
            <div class="ops-notes-title">Notes</div>
            <ul>
                <li>Values of zero are displayed as "0.00" for transparency</li>
                <li>Negative values are shown in red with parentheses</li>
                <t t-if="extra_notes">
                    <t t-foreach="extra_notes" t-as="note">
                        <li><t t-esc="note"/></li>
                    </t>
                </t>
            </ul>
        </div>
    </template>

</odoo>
